---
phase: 08-admin-core
plan: 04
type: execute
---

<objective>
Create content management pages for categories, locations, and treatments configuration.

Purpose: Enable admins to manage platform content taxonomy - treatment categories, service locations, and treatment types.
Output: Categories, locations, and treatments management pages with CRUD-like UI.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-admin-core/08-03-SUMMARY.md

**Pattern references:**
@src/lib/mock-data/locations.ts
@src/types/deal.ts (TreatmentCategory type)
@src/types/location.ts

**Established patterns:**
- Card-based management UI
- Inline editing patterns
- Add/Edit modals
- Glassmorphic styling
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create categories management page</name>
  <files>src/app/admin/dashboard/content/page.tsx, src/app/admin/dashboard/content/categories/page.tsx, src/lib/mock-data/categories.ts</files>
  <action>
    1. Create content hub page (src/app/admin/dashboard/content/page.tsx):
       - Heading "Content Management"
       - Three cards linking to sub-pages:
         - Categories: "Manage treatment categories" -> /admin/dashboard/content/categories
         - Locations: "Manage service areas and cities" -> /admin/dashboard/content/locations
         - Treatments: "Manage treatment types" -> /admin/dashboard/content/treatments
       - Each card shows count of items
       - Similar pattern to settings hub in business dashboard

    2. Create categories mock data (src/lib/mock-data/categories.ts):
       - Define Category type: id, name, slug, description, icon (Phosphor icon name), dealCount, isActive, sortOrder
       - Create array with existing categories: botox, fillers, facials, laser, body, skincare
       - Add CRUD helpers: getCategories, createCategory, updateCategory, toggleCategoryStatus
       - Export from index.ts

    3. Create categories management page (src/app/admin/dashboard/content/categories/page.tsx):
       - Heading "Treatment Categories" with back link to /admin/dashboard/content
       - Grid of category cards showing: icon, name, description, deal count, active toggle
       - "Add Category" button opens modal/inline form
       - Edit button on each card for inline editing
       - Drag handle placeholder for reordering (visual only, no drag implementation)
       - Toggle active/inactive status

    Use Card, Button, Input, Badge components with glassmorphic styling.
  </action>
  <verify>npm run build passes. /admin/dashboard/content shows hub. Categories page shows all categories with management controls.</verify>
  <done>Content hub and categories management page functional with add/edit/toggle capabilities</done>
</task>

<task type="auto">
  <name>Task 2: Create locations management page</name>
  <files>src/app/admin/dashboard/content/locations/page.tsx, src/lib/mock-data/locations.ts</files>
  <action>
    1. Extend locations.ts with management helpers:
       - Add City type fields if missing: id, isActive, dealCount (computed), businessCount (computed)
       - Add LocationArea type fields if missing: id, isActive
       - Add helpers: toggleCityStatus, toggleAreaStatus, addCity, addArea

    2. Create locations management page (src/app/admin/dashboard/content/locations/page.tsx):
       - Heading "Service Locations" with back link
       - Two-column layout on desktop:
         - Left: Cities list with expand/collapse for areas
         - Right: Selected city details or "Select a city"

       - Cities list:
         - Each city card: name, state, area count, business count, active toggle
         - Click to select and show areas
         - "Add City" button

       - Areas panel (when city selected):
         - List of areas for selected city
         - Each area: name, active toggle
         - "Add Area" button

       - Stats at top: X cities, Y areas, Z active

    Simple expandable list pattern, not full drag-and-drop.
  </action>
  <verify>npm run build passes. /admin/dashboard/content/locations shows cities and areas management.</verify>
  <done>Locations management page displays cities with expandable areas and toggle controls</done>
</task>

<task type="auto">
  <name>Task 3: Create treatments content page</name>
  <files>src/app/admin/dashboard/content/treatments/page.tsx, src/lib/mock-data/treatments.ts</files>
  <action>
    1. Create treatments mock data (src/lib/mock-data/treatments.ts):
       - Define Treatment type: id, name, slug, categoryId, description, averagePrice, popularity, isActive
       - Create 10-15 treatments across categories:
         - Botox: Forehead Lines, Crow's Feet, Frown Lines, Bunny Lines
         - Fillers: Lip Filler, Cheek Filler, Jawline Filler, Under-eye Filler
         - Facials: HydraFacial, Chemical Peel, Microneedling
         - Laser: Hair Removal, IPL Photofacial, Skin Resurfacing
       - Add CRUD helpers: getTreatments, getTreatmentsByCategory, createTreatment, updateTreatment, toggleTreatmentStatus
       - Export from index.ts

    2. Create treatments management page (src/app/admin/dashboard/content/treatments/page.tsx):
       - Heading "Treatment Types" with back link
       - Filter by category (dropdown or tabs)
       - Table or card grid showing: name, category badge, avg price, popularity score, active toggle
       - "Add Treatment" button
       - Inline edit capability (click to edit name/description)
       - Bulk actions placeholder: "Select multiple to activate/deactivate"

    Focus on clean UI, actual bulk select not required - just the UI hint.
  </action>
  <verify>npm run build passes. /admin/dashboard/content/treatments shows treatments list with category filter.</verify>
  <done>Treatments management page displays all treatments with category filtering and management controls</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] /admin/dashboard/content shows hub with 3 cards
- [ ] Categories page shows all 6 categories with controls
- [ ] Add category form works (creates new entry)
- [ ] Category active toggle updates state
- [ ] Locations page shows cities with expandable areas
- [ ] City selection shows areas panel
- [ ] Treatments page shows treatments grouped/filtered by category
- [ ] All pages have consistent glassmorphic styling
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Content management CRUD operations functional
- Navigation between content pages smooth
- Phase 8 Admin Core complete
</success_criteria>

<output>
After completion, create `.planning/phases/08-admin-core/08-04-SUMMARY.md`
</output>
