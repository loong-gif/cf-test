---
phase: 09-admin-platform
plan: 02
type: execute
---

<objective>
Create data management tools UI with export capabilities, bulk actions, and activity logs.

Purpose: Provide admins with tools to manage platform data at scale - exports, bulk operations, and audit trails.
Output: Data management hub at /admin/dashboard/data with export tools, bulk actions, and activity logs.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan:
@.planning/phases/09-admin-platform/09-01-PLAN.md

# Existing patterns:
@src/app/admin/dashboard/content/page.tsx
@src/app/admin/dashboard/page.tsx
@src/components/layout/adminDashboardSidebar.tsx

**Established patterns:**
- Content hub landing page with cards linking to sub-pages
- Settings hub navigation pattern (cards → sub-pages)
- Table components with action dropdowns
- Badge component for status indicators
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create data management hub with export and activity tools</name>
  <files>src/app/admin/dashboard/data/page.tsx</files>
  <action>
Create data management hub at /admin/dashboard/data with:

1. **Header section**: "Data Management" title with "Export, import, and manage platform data" subtitle

2. **Export Tools Section** (3-card grid):
   Card 1 - "Export Deals":
   - Icon: FileArrowDown
   - Description: "Download all deals as CSV"
   - Format selector: CSV | JSON dropdown
   - Date range: Last 30 days | All time toggle
   - Button: "Export Deals" (onClick shows toast "Export started...")

   Card 2 - "Export Businesses":
   - Icon: Buildings
   - Description: "Download business directory"
   - Include inactive toggle
   - Button: "Export Businesses"

   Card 3 - "Export Users":
   - Icon: Users
   - Description: "Download consumer data"
   - Filter: All | Verified Only dropdown
   - Button: "Export Users"

3. **Bulk Actions Section** (below exports):
   - Card with header "Bulk Actions"
   - Info text: "Perform operations on multiple records at once"
   - 4 action buttons in 2x2 grid:
     - "Approve All Pending Deals" (with count badge from mock)
     - "Notify Inactive Businesses" (shows Coming Soon badge)
     - "Archive Expired Deals" (shows mock count)
     - "Cleanup Cancelled Claims" (shows mock count)
   - Each button disabled with confirmation dialog pattern (don't actually do anything)

4. **Activity Log Section** (full width, scrollable):
   - Header: "Admin Activity Log" with "Last 50 actions" subtext
   - Filter tabs: All | Exports | Moderation | User Actions
   - Table with columns: Timestamp | Admin | Action | Details | Status
   - 10 mock activity entries showing various admin actions:
     - "Approved deal: Spring Botox Special"
     - "Exported 245 deals to CSV"
     - "Suspended user: john@example.com"
     - "Updated business tier: Elite Med Spa → Premium"
     - etc.
   - Use Badge for status (success/pending/failed)
   - Relative timestamps (2h ago, Yesterday, etc.)

Use 'use client' directive. Toast notifications via console.log for now (no toast library).
All exports/actions are UI-only - buttons show feedback but don't actually export.
  </action>
  <verify>npm run build passes, page renders at /admin/dashboard/data</verify>
  <done>Data management hub displays export tools, bulk actions, and activity log</done>
</task>

<task type="auto">
  <name>Task 2: Add Data link to admin sidebar navigation</name>
  <files>src/components/layout/adminDashboardSidebar.tsx</files>
  <action>
Add "Data" navigation item to admin sidebar:

1. Import Database icon from @phosphor-icons/react
2. Add to navItems array after "Reports" item:
   { href: '/admin/dashboard/data', label: 'Data', icon: Database }

Navigation order becomes: Home, Deals, Users, Businesses, Content, Reports, Data, Settings
Mobile nav shows first 5 (Home, Deals, Users, Businesses, Content).
  </action>
  <verify>Admin sidebar shows Data link, clicking navigates to /admin/dashboard/data</verify>
  <done>Data link visible in sidebar, active state works when on data page</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] /admin/dashboard/data page loads correctly
- [ ] Export cards render with format/filter options
- [ ] Export buttons show feedback on click
- [ ] Bulk action buttons show with counts
- [ ] Activity log displays with filter tabs
- [ ] Data link appears in admin sidebar after Reports
- [ ] Data link shows active state when on page
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Data management hub follows admin patterns
- Navigation integrates with existing sidebar
- Phase 09 complete
</success_criteria>

<output>
After completion, create `.planning/phases/09-admin-platform/09-02-SUMMARY.md`
</output>
