---
phase: 11-design-system-audit
plan: 03
type: execute
---

<objective>
Update core UI components (badge, input) to use semantic design tokens.

Purpose: The badge and input components currently hardcode Tailwind colors like `bg-green-500/10` and `text-red-400`. Update them to use the semantic token system established in 11-02, making them the reference implementation for token-based styling.
Output: Updated badge.tsx and input.tsx using semantic tokens, serving as patterns for Phase 14-15 module polish.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-design-system-audit/11-01-SUMMARY.md
@.planning/phases/11-design-system-audit/11-02-SUMMARY.md
@src/app/globals.css
@src/lib/design-tokens.ts
@src/components/ui/badge.tsx
@src/components/ui/input.tsx

**Prior plans:**
- 11-01: Created audit document with 84+ color violations catalogued
- 11-02: Extended globals.css @theme with semantic colors, created semanticClasses in design-tokens.ts

**Key files to update:**
- badge.tsx: Has success/warning/error/info variants with hardcoded colors
- input.tsx: Has error state with hardcoded red colors
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update badge component to use semantic tokens</name>
  <files>src/components/ui/badge.tsx</files>
  <action>
First read the current badge.tsx implementation.

Then update the variant styles to use semantic color tokens instead of hardcoded Tailwind colors.

Current (hardcoded):
```typescript
success: 'bg-green-500/10 border-green-500/20 text-green-400',
warning: 'bg-amber-500/10 border-amber-500/20 text-amber-400',
error: 'bg-red-500/10 border-red-500/20 text-red-400',
info: 'bg-blue-500/10 border-blue-500/20 text-blue-400',
```

Updated (using semantic tokens):
```typescript
success: 'bg-success/10 border-success/20 text-success-text',
warning: 'bg-warning/10 border-warning/20 text-warning-text',
error: 'bg-error/10 border-error/20 text-error-text',
info: 'bg-info/10 border-info/20 text-info-text',
```

Keep other variants (default, brand) unchanged.

IMPORTANT: Only change the color utility classes. Do not change the component structure, props, or non-color styling.
  </action>
  <verify>
grep "bg-success" src/components/ui/badge.tsx
grep "text-success-text" src/components/ui/badge.tsx
grep -c "green-" src/components/ui/badge.tsx  # Should be 0
grep -c "red-" src/components/ui/badge.tsx    # Should be 0
  </verify>
  <done>
badge.tsx semantic variants updated:
- success uses bg-success/10, text-success-text
- warning uses bg-warning/10, text-warning-text
- error uses bg-error/10, text-error-text
- info uses bg-info/10, text-info-text
- No hardcoded green/amber/red/blue colors remain
  </done>
</task>

<task type="auto">
  <name>Task 2: Update input component to use semantic tokens</name>
  <files>src/components/ui/input.tsx</files>
  <action>
First read the current input.tsx implementation.

Then update error state styling to use semantic tokens.

Current (hardcoded):
```typescript
error && 'border-red-500/50 focus:border-red-500'
// and for error message:
<p className="mt-1 text-sm text-red-400">{error}</p>
```

Updated (using semantic tokens):
```typescript
error && 'border-error/50 focus:border-error'
// and for error message:
<p className="mt-1 text-sm text-error-text">{error}</p>
```

IMPORTANT: Only change the color utility classes. Keep the component structure, props, and non-color styling unchanged.
  </action>
  <verify>
grep "border-error" src/components/ui/input.tsx
grep "text-error-text" src/components/ui/input.tsx
grep -c "red-" src/components/ui/input.tsx  # Should be 0
  </verify>
  <done>
input.tsx error styling updated:
- Border error state uses border-error/50, focus:border-error
- Error message uses text-error-text
- No hardcoded red colors remain
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Updated badge and input components with semantic color tokens</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Open Chrome and navigate to any page with badges (e.g., /dashboard/claims or /admin/dashboard)
    3. Verify badges still render correctly:
       - Success badges should be green tinted
       - Warning badges should be amber/yellow tinted
       - Error badges should be red tinted
       - Info badges should be blue tinted
    4. Check an input with error state:
       - Navigate to /auth (or any form)
       - Submit invalid data to trigger validation error
       - Verify error border is red and error text is readable
    5. Colors should appear identical to before - only the CSS implementation changed
  </how-to-verify>
  <resume-signal>Type "approved" if colors render correctly, or describe any visual issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] badge.tsx has no hardcoded green/amber/red/blue colors
- [ ] input.tsx has no hardcoded red colors
- [ ] Visual appearance unchanged (colors render correctly)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No hardcoded semantic colors in core UI components
- Visual appearance preserved (human verified)
- Phase 11 complete
</success_criteria>

<output>
After completion, create `.planning/phases/11-design-system-audit/11-03-SUMMARY.md`

Include in summary:
- Files modified with before/after comparison
- Token migration pattern used (can be copied to other files in Phase 14-15)
- Any edge cases encountered
- Phase 11 complete flag
</output>
