# Plan 22-01: Notification Templates

## Objective

Create comprehensive notification copy guide (NOTIFICATIONS.md) covering email, SMS, and in-app notification patterns for Consumer, Business, and Admin modules.

## Execution Context

```yaml
type: documentation
environment: planning
working_directory: .planning/messaging
dependencies:
  - Phase 17: Voice & Tone Definition (VOICE.md, TONE.md, WRITING-RULES.md)
  - Phase 18: Error Messaging System (ERROR-MESSAGES.md patterns)
  - Phase 19: Success & Confirmation States (SUCCESS-MESSAGES.md patterns)
skip_tests: true
```

## Context

### Prior Art
- VOICE.md: 5 core traits (Trustworthy, Helpful, Clear, Confident, Approachable)
- TONE.md: Module-specific tones (Consumer: warm, Business: professional, Admin: factual)
- WRITING-RULES.md: Capitalization, punctuation, terminology standards
- SUCCESS-MESSAGES.md: Confirmation patterns that apply to notifications

### Notification Types Discovered
From codebase analysis of `alertPreferences.tsx` and `emailVerification.tsx`:

**Email Notifications:**
- Deal alerts (new deals matching preferences)
- Claim confirmations (submission received, status updates)
- Verification codes (email/phone verification)
- Lead notifications (business module)
- Account updates (settings changes, security alerts)

**SMS Notifications:**
- Deal alerts (time-sensitive deals)
- Verification codes (6-digit codes)
- Claim status updates (approved, expired)

**In-App Notifications:**
- Toast messages (action confirmations)
- Status banners (system status, verification prompts)
- Badge notifications (new leads, pending items)

### Module Distribution
- Consumer (40%): Deal alerts, claim updates, verification, account
- Business (50%): Lead notifications, claim alerts, verification, analytics summaries
- Admin (10%): Action confirmations, system alerts

## Tasks

<task id="1" type="auto">
<title>Create NOTIFICATIONS.md structure with email templates</title>
<context>
Following the format of SUCCESS-MESSAGES.md and ERROR-MESSAGES.md, create the foundational structure with email template patterns.
</context>
<steps>
1. Create .planning/messaging/NOTIFICATIONS.md with standard header structure
2. Add section 1: Notification Philosophy (principles, timing, frequency)
3. Add section 2: Email Templates with subject line and body patterns:
   - Consumer: Deal alerts, claim confirmations, verification codes
   - Business: Lead notifications, claim alerts, daily/weekly summaries
   - Admin: System alerts, action confirmations
4. Include email template anatomy (subject, preview text, body, CTA, footer)
5. Add personalization variable patterns ({{first_name}}, {{deal_title}}, etc.)
</steps>
<success>NOTIFICATIONS.md exists with sections 1-2 covering email philosophy and templates</success>
</task>

<task id="2" type="auto">
<title>Add SMS templates and in-app notification patterns</title>
<context>
SMS has character limits (160 chars) and different constraints. In-app notifications are brief, contextual.
</context>
<steps>
1. Add section 3: SMS Templates with character-conscious patterns:
   - Verification codes: "Your CostFinders code: 123456. Expires in 10 min."
   - Deal alerts: "50% off Botox at [Provider]. Claim now: [link]"
   - Claim updates: "Your claim was approved! Check your email for details."
2. Add section 4: In-App Notifications:
   - Toast patterns (success, info, warning types)
   - Banner patterns (verification needed, system status)
   - Badge patterns (new leads count, pending actions)
3. Include timing guidelines (immediate vs batched, quiet hours)
4. Add opt-in/opt-out copy patterns
</steps>
<success>Sections 3-4 complete with SMS templates (char-limited) and in-app patterns</success>
</task>

<task id="3" type="auto">
<title>Add module-specific templates and quick reference</title>
<context>
Consolidate module-specific notification catalogs and provide developer quick reference.
</context>
<steps>
1. Add section 5: Consumer Module Notifications catalog:
   - All email subjects and preview text
   - SMS templates by scenario
   - In-app toast/banner patterns
2. Add section 6: Business Module Notifications catalog:
   - Lead notification templates (new, updated, expired)
   - Performance summary templates (daily, weekly)
   - Verification and onboarding sequences
3. Add section 7: Admin Module Notifications catalog (minimal):
   - Action confirmation patterns
   - System alert templates
4. Add section 8: Quick Reference:
   - Subject line formulas
   - SMS character budget
   - Personalization variables
   - Do's and Don'ts
5. Add section 9: Implementation Notes for i18n extraction
</steps>
<success>NOTIFICATIONS.md complete with 9 sections, ~800-1000 lines, matching prior guide format</success>
</task>

## Verification

- [ ] NOTIFICATIONS.md follows structure of SUCCESS-MESSAGES.md
- [ ] Email templates include subject, preview text, body, CTA patterns
- [ ] SMS templates respect 160 character limit
- [ ] In-app notifications cover toast, banner, badge types
- [ ] Module-specific catalogs cover Consumer, Business, Admin
- [ ] Personalization variables documented ({{variable}} format)
- [ ] Timing and frequency guidelines included
- [ ] Quick reference card for developer handoff

## Success Criteria

1. NOTIFICATIONS.md created in .planning/messaging/
2. All three notification channels covered (email, SMS, in-app)
3. Module-specific tone applied (Consumer: warm, Business: professional, Admin: factual)
4. Copy patterns ready for implementation extraction
5. Consistent format with other messaging guides

## Output

```yaml
files_created:
  - .planning/messaging/NOTIFICATIONS.md

documentation:
  - Notification philosophy and principles
  - Email template patterns with anatomy
  - SMS templates with character limits
  - In-app notification patterns
  - Module-specific catalogs
  - Quick reference for developers

ready_for:
  - Phase 23: Documentation & Guidelines (messaging style guide compilation)
  - Implementation: i18n string extraction
  - Development: Notification system integration
```
